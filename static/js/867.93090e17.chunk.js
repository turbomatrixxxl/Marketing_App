"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[867],{295:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoginStatus=void 0,function(e){e.Connected="connected",e.NotAuthorized="not_authorized",e.Unknown="unknown"}(t.LoginStatus||(t.LoginStatus={}))},1129:(e,t,n)=>{e.exports=n.p+"static/media/login-background-left-side.afdd91261d0cc56b2ffe.png"},1313:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5043);const i=(e,t)=>{const[n,i]=(0,o.useState)(e),[r,a]=(0,o.useState)({});return{fields:n,setFields:i,errors:r,validateFields:()=>{const e=t(n);return a(e),0===Object.keys(e).length}}}},2244:(e,t,n)=>{e.exports=n.p+"static/media/login-background-right-side.edc9dad7fbdcde66359f.png"},2461:(e,t,n)=>{n.d(t,{A:()=>a});n(5043);var o=n(8387);const i={input:"Input_input__ovt5a",inputCenter:"Input_inputCenter__8ObG8",inputInfo:"Input_inputInfo__eUz4D"};var r=n(579);function a(e){let{type:t,placeholder:n,required:a,variant:s="",className:c,name:l,handleChange:d,width:u,value:p,paddingLeft:f,autoComplete:g,handleBlur:h,handleClick:_}=e;return(0,r.jsx)("div",{style:{width:u||"auto"},className:i.inputContainer,children:(0,r.jsx)("input",{onClick:_,autoComplete:g||"off",style:{paddingLeft:f||"0px"},onChange:d,name:l||"",className:(0,o.A)(i.input,c,"center"===s?i.inputCenter:i.input),type:t||"text",placeholder:n||"",required:a||!1,value:p||"",onBlur:h})})}},2816:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7134),t),i(n(4180),t),i(n(295),t)},2870:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5043);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,o.useState)(Object.keys(e).reduce((e,t)=>(e[t]=!1,e),{}));return{touched:t,handleBlur:e=>()=>{n(t=>({...t,[e]:!0}))}}}},2986:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(3816));i(n(8244),t),i(n(2816),t),i(n(3816),t),i(n(5175),t),t.default=a.default},3351:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.paramsToObject=t.objectToParams=t.isObject=void 0;t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e);t.objectToParams=e=>(0,t.isObject)(e)&&0!==Object.keys(e).length?"?"+Object.keys(e).map(t=>`${t}=${encodeURIComponent(e[t])}`).join("&"):"";t.paramsToObject=e=>(null===e||void 0===e?void 0:e.replace(/^\?/,"").split("&").reduce((e,t)=>{if(!t)return e;const[n,o]=t.split("=");return Object.assign(Object.assign({},e),{[n]:decodeURIComponent(o)})},{}))||{}},3816:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(5043)),c=n(5175),l=n(8244);t.default=function(e){var t,n;const{appId:o,language:i="en_US",scope:r="public_profile, email",fields:d="name,email,picture",onSuccess:u,onFail:p,onProfileSuccess:f,className:g,style:h,children:_="Login with Facebook",render:v,autoLoad:m=!1,useRedirect:b=!1,useCustomerChat:j=!1}=e,y=Object.assign(Object.assign({version:"v16.0",xfbml:!1,cookie:!1,localStorage:!0},e.initParams),{appId:o}),w=Object.assign(Object.assign({redirect_uri:"undefined"!==typeof window?location.origin+location.pathname:"/",state:"facebookdirect",response_type:"code"},e.dialogParams),{client_id:o}),O=Object.assign(Object.assign({return_scopes:!1,ignoreSdkError:!1},e.loginOptions),{auth_nonce:"function"===typeof(null===(t=e.loginOptions)||void 0===t?void 0:t.auth_nonce)?e.loginOptions.auth_nonce():null===(n=e.loginOptions)||void 0===n?void 0:n.auth_nonce,scope:r});(0,s.useEffect)(()=>{k()},[]);const k=()=>a(this,void 0,void 0,function*(){yield c.FacebookLoginClient.loadSdk(i,j),window.fbAsyncInit=()=>{c.FacebookLoginClient.init(y);const e=c.FacebookLoginClient.isRedirected(w);!1===e&&m?L():!0===e&&b&&x()}}),x=()=>{c.FacebookLoginClient.login(e=>{e.authResponse?(u&&u(e.authResponse),f&&c.FacebookLoginClient.getProfile(f,{fields:d})):p&&p({status:"loginCancelled"})},Object.assign(Object.assign({},O),{scope:r}))},L=()=>{(0,l.isFacebookApp)()||b?c.FacebookLoginClient.redirectToDialog(w,O):window.FB?x():p&&p({status:"facebookNotLoaded"})};return v?v({onClick:L,logout:c.FacebookLoginClient.logout}):s.default.createElement("button",{type:"button",onClick:L,className:g,style:h},_)}},4180:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},4420:(e,t,n)=>{n.d(t,{s:()=>r});class o extends Error{}function i(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(n){return atob(t)}}function r(e,t){if("string"!==typeof e)throw new o("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new o(`Invalid token specified: missing part #${n+1}`);let a;try{a=i(r)}catch(s){throw new o(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(a)}catch(s){throw new o(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}o.prototype.name="InvalidTokenError"},5175:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookLoginClient=t.SDK_SCRIPT_ELE_ID=void 0;const r=n(8244);t.SDK_SCRIPT_ELE_ID="facebook-jssdk",t.FacebookLoginClient={getFB:()=>window.FB?window.FB:(console.warn("FB not found"),null),getLoginStatus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getFB();n?n.getLoginStatus(e,t):e({status:"unknown"})},getProfile(e,t){var n;null===(n=this.getFB())||void 0===n||n.api("me",t,e)},init(e){var t;null===(t=this.getFB())||void 0===t||t.init(e)},clear(){window.FB=null;const e=document.getElementById(t.SDK_SCRIPT_ELE_ID);e&&e.remove()},isRedirected(e){var t,n;const o=(0,r.paramsToObject)(window.location.search);return(null!==(t=o.state===(null===e||void 0===e?void 0:e.state))&&void 0!==t?t:"facebookdirect")&&void 0!==o[null!==(n=null===e||void 0===e?void 0:e.response_type)&&void 0!==n?n:""]},loadSdk(e,n){return o(this,void 0,void 0,function*(){yield(0,r.createScriptEle)(t.SDK_SCRIPT_ELE_ID,`https://connect.facebook.net/${e}/sdk${n?"/xfbml.customerchat":""}.js`)})},redirectToDialog(e,t){var{ignoreSdkError:n}=t,o=i(t,["ignoreSdkError"]);window.location.href=`https://www.facebook.com/dialog/oauth${(0,r.objectToParams)(Object.assign(Object.assign({},e),o))}`},login(e,t){var n,{ignoreSdkError:o}=t,r=i(t,["ignoreSdkError"]);try{null===(n=this.getFB())||void 0===n||n.login(e,r)}catch(a){if(o)return;throw a}},logout(e){this.getLoginStatus(t=>{var n;"connected"===t.status?null===(n=this.getFB())||void 0===n||n.logout(e):e()})}}},5340:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5043);function i(e){const[t,n]=(0,o.useState)(e);return[t,function(){n(!t)}]}},5628:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFacebookApp=void 0;t.isFacebookApp=()=>{if("undefined"===typeof window)return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1}},5867:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var o=n(5043),i=n(5447),r=n(2986),a=n.n(r),s=n(4420),c=n(3003),l=n(8401),d=n(3216),u=n(5475),p=n(2461),f=n(8838),g=n(5659),h=n(5340),_=n(1313);const v=e=>{const t={};return e.email||(t.email="Email is required"),e.password||(t.password="Password is required"),t};var m=n(2870),b=n(6276),j=n(1036);n(2342);const y="LoginForm_form__J59Or",w="LoginForm_cont__bLb50",O="LoginForm_linkContainer__Nyl4y",k="LoginForm_navLinkTitle__fFOln",x="LoginForm_login__ckoif",L="LoginForm_inputsCont__A4MSy",C="LoginForm_inputContainer__88HZK",F="LoginForm_inputWrapper__Lu4KG",P="LoginForm_input__sbe9H",S="LoginForm_inputError__Dy8nB",N="LoginForm_forgotPassword__EEuE3",B="LoginForm_eyeIcon__r4CQb",I="LoginForm_errorCont__BeUnI",E="LoginForm_error__a9AL3",A="LoginForm_buttonsContainer__BV0Oe",R="LoginForm_choiceContainer__19xYt",D="LoginForm_line__1fY6X",M="LoginForm_socialButtonCont__SNd2n",T="LoginForm_facebookButton__k0Tmo";var $=n(579);const q=function(){const{fields:e,setFields:t,validateFields:n}=(0,_.A)({email:"",password:""},v),r=(0,d.Zp)(),{user:q,isLoggedIn:U}=(0,b.A)(),{touched:K,handleBlur:z}=(0,m.A)(e),[V,G]=(0,o.useState)(""),Q=(0,c.wA)(),[Z,J]=(0,o.useState)("password"),[W,Y]=(0,h.A)(!0),[H,X]=(0,h.A)(!1),[ee,te]=(0,o.useState)(!1),ne=async function(e,t){const n={profile:e,provider:t,accessToken:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};try{await Q((0,l.kj)(n)).unwrap(),j.oR.success("Login successful!",{position:"top-center"})}catch(o){j.oR.error(`${t} login failed`),console.error(o)}},oe=""!==e.email.trim()&&e.password.length>=8;return(0,$.jsxs)("div",{className:w,children:[(0,$.jsxs)("div",{className:O,children:[(0,$.jsx)(u.N_,{to:"/auth/register",className:k,children:"Registration"}),(0,$.jsx)("p",{className:x,children:"Log In"})]}),(0,$.jsxs)("div",{className:y,children:[(0,$.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),n())try{await Q((0,l.E8)(e)).unwrap(),j.oR.success("Login successful!",{position:"top-center"})}catch(o){j.oR.error(o),G("You have entered an invalid username or password.")}},className:y,children:[(0,$.jsxs)("div",{className:L,children:[(0,$.jsxs)("div",{className:C,children:[(0,$.jsx)("div",{className:F,children:(0,$.jsx)(p.A,{className:P,autoComplete:"on",paddingLeft:"18px",width:"100%",type:"email",value:e.email,handleChange:n=>t({...e,email:n.target.value}),handleBlur:z("email"),placeholder:"Enter your email",required:!0})}),K.email&&!e.email&&(0,$.jsx)("p",{className:S,children:"Required"})]}),(0,$.jsxs)("div",{className:C,children:[(0,$.jsxs)("div",{className:F,children:[W&&(0,$.jsx)(g.gZ8,{fill:"var(--brand-color)",onClick:()=>{Y(),X(),J("text")},size:"24px",className:B}),H&&(0,$.jsx)(g.iWd,{fill:"#4885e0",onClick:()=>{Y(),X(),J("password")},size:"24px",className:B}),(0,$.jsx)(p.A,{autoComplete:"on",paddingLeft:"14px",width:"100%",type:Z,value:e.password,handleChange:n=>t({...e,password:n.target.value}),handleBlur:()=>{z("password")},handleClick:()=>te(!0),placeholder:"Password",required:!0})]}),ee&&(0,$.jsx)("button",{onClick:()=>r("/forgot-password"),className:N,type:"button",children:"Forgot password?"}),K.password&&e.password.length<8&&(0,$.jsx)("p",{className:S,children:"Password must be at least 8 characters!"})]})]}),(0,$.jsxs)("div",{className:A,children:[V&&(0,$.jsx)("p",{className:E,children:V}),(0,$.jsx)(f.A,{disabled:!oe,variant:"auth",type:"submit",children:"Login"})]}),null!==q&&!U&&!1===(null===q||void 0===q?void 0:q.verify)&&(0,$.jsxs)("div",{className:I,children:[(0,$.jsx)("p",{className:E,children:"It seems that your authorisation token expired or your email is not verified! Please click Login or Verify."}),(0,$.jsx)(f.A,{variant:"auth",handleClick:()=>r("/verify-email"),children:"Verify"})]})]}),(0,$.jsxs)("p",{className:R,children:[(0,$.jsx)("span",{className:D}),(0,$.jsx)("span",{children:"or"}),(0,$.jsx)("span",{className:D})]}),(0,$.jsx)("div",{className:M,children:(0,$.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",background:"royalblue",borderRadius:"6px"},children:(0,$.jsx)(i.j,{onSuccess:e=>{const t=(0,s.s)(e.credential);ne({id:t.sub,name:t.name,email:t.email,avatar:t.picture},"google")},onError:()=>j.oR.error("Google login failed"),size:"large",shape:"rectangular",theme:"filled_blue",width:"100%"})})}),(0,$.jsx)("div",{className:M,children:(0,$.jsx)(a(),{className:T,appId:"1022922233206363",autoLoad:!1,fields:"name,email,picture",scope:"email,public_profile",callback:e=>{var t,n,o,i;if(console.log("FB raw response:",e),!e)return void j.oR.error("Facebook returned no response");if("unknown"===e.status)return void j.oR.error("Facebook login failed or cancelled");const r=e.accessToken||(null===(t=e.authResponse)||void 0===t?void 0:t.accessToken)||null,a=e.id||e.userID||(null===(n=e.authResponse)||void 0===n?void 0:n.userID)||null,s=e.name||null,c=e.email||null,l=(null===(o=e.picture)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.url)||null;ne({id:a,name:s,email:c,avatar:l},"facebook",r)}})})]})]})};var U=n(1129),K=n(2244);const z="LoginPage_section__vVWQR",V="LoginPage_imageLeft__GCqZ6",G="LoginPage_imageRight__S1rQa";const Q=function(){return(0,$.jsxs)("section",{className:z,children:[(0,$.jsx)("div",{className:V,children:(0,$.jsx)("img",{src:U,alt:"Left"})}),(0,$.jsx)("div",{className:G,children:(0,$.jsx)("img",{src:K,alt:"Right"})}),(0,$.jsx)(q,{})]})}},7134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8244:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8564),t),i(n(3351),t),i(n(5628),t)},8564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createScriptEle=void 0;t.createScriptEle=(e,t)=>new Promise(n=>{var o;const i=document.getElementsByTagName("script")[0];if(document.getElementById(e))return void n(void 0);const r=document.createElement("script");if(r.id=e,r.src=t,r.onload=n,i)null===(o=i.parentNode)||void 0===o||o.insertBefore(r,i);else{const e=document.body.childNodes;document.body.insertBefore(r,e.item(e.length-1))}})},8838:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(8387);n(5043);const i="Button_button__DQKMR",r="Button_violet__AJ44T";var a=n(579);const s=function(e){let{type:t,children:n,variant:s="",theme:c="light",handleClick:l,disabled:d,className:u}=e;return(0,a.jsx)("button",{disabled:d,onClick:l,type:t,className:(0,o.A)(i,"auth"===s?i:"send"===s?"violet"===c?r:i:null,u),children:n})}}}]);
//# sourceMappingURL=867.93090e17.chunk.js.map