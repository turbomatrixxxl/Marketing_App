"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[867],{1129:(e,s,a)=>{e.exports=a.p+"static/media/login-background-left-side.afdd91261d0cc56b2ffe.png"},1313:(e,s,a)=>{a.d(s,{A:()=>i});var n=a(5043);const i=(e,s)=>{const[a,i]=(0,n.useState)(e),[o,r]=(0,n.useState)({});return{fields:a,setFields:i,errors:o,validateFields:()=>{const e=s(a);return r(e),0===Object.keys(e).length}}}},2244:(e,s,a)=>{e.exports=a.p+"static/media/login-background-right-side.edc9dad7fbdcde66359f.png"},2461:(e,s,a)=>{a.d(s,{A:()=>r});a(5043);var n=a(8387);const i={input:"Input_input__ovt5a",inputCenter:"Input_inputCenter__8ObG8",inputInfo:"Input_inputInfo__eUz4D"};var o=a(579);function r(e){let{type:s,placeholder:a,required:r,variant:t="",className:l,name:c,handleChange:d,width:u,value:p,paddingLeft:m,autoComplete:_,handleBlur:h,handleClick:g}=e;return(0,o.jsx)("div",{style:{width:u||"auto"},className:i.inputContainer,children:(0,o.jsx)("input",{onClick:g,autoComplete:_||"off",style:{paddingLeft:m||"0px"},onChange:d,name:c||"",className:(0,n.A)(i.input,l,"center"===t?i.inputCenter:i.input),type:s||"text",placeholder:a||"",required:r||!1,value:p||"",onBlur:h})})}},2870:(e,s,a)=>{a.d(s,{A:()=>i});var n=a(5043);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[s,a]=(0,n.useState)(Object.keys(e).reduce((e,s)=>(e[s]=!1,e),{}));return{touched:s,handleBlur:e=>()=>{a(s=>({...s,[e]:!0}))}}}},5340:(e,s,a)=>{a.d(s,{A:()=>i});var n=a(5043);function i(e){const[s,a]=(0,n.useState)(e);return[s,function(){a(!s)}]}},5867:(e,s,a)=>{a.r(s),a.d(s,{default:()=>Y});var n=a(5043),i=a(5447),o=a(2986),r=a.n(o),t=a(4420),l=a(3003),c=a(1870),d=a(3216),u=a(5475),p=a(2461),m=a(8838),_=a(5659),h=a(5340),g=a(1313);const v=e=>{const s={};return e.email||(s.email="Email is required"),e.password||(s.password="Password is required"),s};var f=a(2870),x=a(6276),j=a(1036);a(2342);const L="LoginForm_form__J59Or",N="LoginForm_cont__bLb50",b="LoginForm_linkContainer__Nyl4y",y="LoginForm_navLinkTitle__fFOln",k="LoginForm_login__ckoif",C="LoginForm_inputsCont__A4MSy",w="LoginForm_inputContainer__88HZK",F="LoginForm_inputWrapper__Lu4KG",A="LoginForm_input__sbe9H",R="LoginForm_inputError__Dy8nB",B="LoginForm_forgotPassword__EEuE3",I="LoginForm_eyeIcon__r4CQb",S="LoginForm_errorCont__BeUnI",q="LoginForm_error__a9AL3",E="LoginForm_buttonsContainer__BV0Oe",P="LoginForm_choiceContainer__19xYt",D="LoginForm_line__1fY6X",O="LoginForm_socialButtonCont__SNd2n",T="LoginForm_facebookButton__k0Tmo";var z=a(579);const G=function(){const{fields:e,setFields:s,validateFields:a}=(0,g.A)({email:"",password:""},v),o=(0,d.Zp)(),{user:G,isLoggedIn:Q}=(0,x.A)(),{touched:V,handleBlur:Z}=(0,f.A)(e),[K,W]=(0,n.useState)(""),Y=(0,l.wA)(),[H,J]=(0,n.useState)("password"),[M,U]=(0,h.A)(!0),[X,$]=(0,h.A)(!1),[ee,se]=(0,n.useState)(!1),ae=async function(e,s){const a={profile:e,provider:s,accessToken:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};try{await Y((0,c.kj)(a)).unwrap(),j.oR.success("Login successful!",{position:"top-center"})}catch(n){j.oR.error(`${s} login failed`),console.error(n)}},ne=""!==e.email.trim()&&e.password.length>=6;return(0,z.jsxs)("div",{className:N,children:[(0,z.jsxs)("div",{className:b,children:[(0,z.jsx)(u.N_,{to:"/auth/register",className:y,children:"Registration"}),(0,z.jsx)("p",{className:k,children:"Log In"})]}),(0,z.jsxs)("div",{className:L,children:[(0,z.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),a())try{await Y((0,c.E8)(e)).unwrap(),j.oR.success("Login successful!",{position:"top-center"})}catch(n){W("You have entered an invalid username or password.")}},className:L,children:[(0,z.jsxs)("div",{className:C,children:[(0,z.jsxs)("div",{className:w,children:[(0,z.jsx)("div",{className:F,children:(0,z.jsx)(p.A,{className:A,autoComplete:"on",paddingLeft:"18px",width:"100%",type:"email",value:e.email,handleChange:a=>s({...e,email:a.target.value}),handleBlur:Z("email"),placeholder:"Enter your email",required:!0})}),V.email&&!e.email&&(0,z.jsx)("p",{className:R,children:"Required"})]}),(0,z.jsxs)("div",{className:w,children:[(0,z.jsxs)("div",{className:F,children:[M&&(0,z.jsx)(_.gZ8,{fill:"var(--brand-color)",onClick:()=>{U(),$(),J("text")},size:"24px",className:I}),X&&(0,z.jsx)(_.iWd,{fill:"#4885e0",onClick:()=>{U(),$(),J("password")},size:"24px",className:I}),(0,z.jsx)(p.A,{autoComplete:"on",paddingLeft:"14px",width:"100%",type:H,value:e.password,handleChange:a=>s({...e,password:a.target.value}),handleBlur:()=>{Z("password"),se(!1)},handleClick:()=>se(!0),placeholder:"Password",required:!0})]}),ee&&(0,z.jsx)("button",{className:B,type:"button",children:"Forgot password?"}),V.password&&e.password.length<6&&(0,z.jsx)("p",{className:R,children:"Password must be at least 6 characters!"})]})]}),(0,z.jsxs)("div",{className:E,children:[K&&(0,z.jsx)("p",{className:q,children:K}),(0,z.jsx)(m.A,{disabled:!ne,variant:"auth",type:"submit",children:"Login"})]}),(null!==G&&!Q||!1===(null===G||void 0===G?void 0:G.verify))&&(0,z.jsxs)("div",{className:S,children:[(0,z.jsx)("p",{className:q,children:"It seems that your authorisation token expired or your email is not verified! Please click Login or Verify."}),(0,z.jsx)(m.A,{variant:"auth",handleClick:()=>o("/verify-email"),children:"Verify"})]})]}),(0,z.jsxs)("p",{className:P,children:[(0,z.jsx)("span",{className:D}),(0,z.jsx)("span",{children:"or"}),(0,z.jsx)("span",{className:D})]}),(0,z.jsx)("div",{className:O,children:(0,z.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",background:"royalblue",borderRadius:"6px"},children:(0,z.jsx)(i.j,{onSuccess:e=>{const s=(0,t.s)(e.credential);ae({id:s.sub,name:s.name,email:s.email,avatar:s.picture},"google")},onError:()=>j.oR.error("Google login failed"),size:"large",shape:"rectangular",theme:"filled_blue",width:"100%"})})}),(0,z.jsx)("div",{className:O,children:(0,z.jsx)(r(),{className:T,appId:"1022922233206363",autoLoad:!1,fields:"name,email,picture",scope:"email,public_profile",callback:e=>{var s,a,n,i;if(console.log("FB raw response:",e),!e)return void j.oR.error("Facebook returned no response");if("unknown"===e.status)return void j.oR.error("Facebook login failed or cancelled");const o=e.accessToken||(null===(s=e.authResponse)||void 0===s?void 0:s.accessToken)||null,r=e.id||e.userID||(null===(a=e.authResponse)||void 0===a?void 0:a.userID)||null,t=e.name||null,l=e.email||null,c=(null===(n=e.picture)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.url)||null;ae({id:r,name:t,email:l,avatar:c},"facebook",o)}})})]})]})};var Q=a(1129),V=a(2244);const Z="LoginPage_section__vVWQR",K="LoginPage_imageLeft__GCqZ6",W="LoginPage_imageRight__S1rQa";const Y=function(){return(0,z.jsxs)("section",{className:Z,children:[(0,z.jsx)("div",{className:K,children:(0,z.jsx)("img",{src:Q,alt:"Left"})}),(0,z.jsx)("div",{className:W,children:(0,z.jsx)("img",{src:V,alt:"Right"})}),(0,z.jsx)(G,{})]})}},8838:(e,s,a)=>{a.d(s,{A:()=>t});var n=a(8387);a(5043);const i="Button_button__DQKMR",o="Button_violet__AJ44T";var r=a(579);const t=function(e){let{type:s,children:a,variant:t="",theme:l="light",handleClick:c,disabled:d,className:u}=e;return(0,r.jsx)("button",{disabled:d,onClick:c,type:s,className:(0,n.A)(i,"auth"===t?i:"send"===t?"violet"===l?o:i:null,u),children:a})}}}]);
//# sourceMappingURL=867.71eb6d76.chunk.js.map